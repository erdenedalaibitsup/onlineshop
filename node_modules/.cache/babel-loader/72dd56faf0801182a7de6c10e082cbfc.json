{"ast":null,"code":"import _slicedToArray from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{productTypeCon}from'../context/CollectionsName/names';import{jsx as _jsx}from\"react/jsx-runtime\";export var ProductTypeContext=/*#__PURE__*/React.createContext();export var ProductTypeProvider=function ProductTypeProvider(props){var typeModel={id:\"\",name:\"\"};var errorModel={id:{show:false},name:{show:false}};var _useState=useState(typeModel),_useState2=_slicedToArray(_useState,2),type=_useState2[0],setType=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),types=_useState4[0],setTypes=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),updateAction=_useState6[0],setUpdateAction=_useState6[1];var _useState7=useState(errorModel),_useState8=_slicedToArray(_useState7,2),errorMsg=_useState8[0],setErrorMsg=_useState8[1];var _useState9=useState({loading:true,error:false}),_useState10=_slicedToArray(_useState9,2),event=_useState10[0],setEvent=_useState10[1];var _useState11=useState({loading:true,error:false}),_useState12=_slicedToArray(_useState11,2),table=_useState12[0],setTable=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),formValid=_useState14[0],setFormValid=_useState14[1];React.useEffect(function(){getProductType();},[]);var getProductType=function getProductType(){productTypeCon.get().then(function(collections){var datas=collections.docs.map(function(type){return type.data();});setTableLoading(datas,false,false);console.log(\"datas\"+datas.length);}).catch(function(ex){console.log(\"error\"+ex);setTableLoading([],false,false);});};var addProductType=function addProductType(){setTableLoading(types,true,false);productTypeCon.doc(type.id).set(type).then(function(collections){getProductType();setType({id:\"\",name:\"\"});setUpdateAction(false);alert(updateAction?\"Ажилттай заслаа\":\"Ажилттай нэмлээ\");}).catch(function(ex){console.log(\"error\"+ex);setTableLoading(types,false,false);alert(updateAction?\"Засхад алдаа гарлаа \":\"Нэмхэд алдаа гарлаа \");});};var setEventLoading=function setEventLoading(type,isLoading,error){event.loading=isLoading;event.error=error;setType(type);setEvent(event);setType({id:\"\",name:\"\"});setFormValid(false);};var setTableLoading=function setTableLoading(types,isLoading,error){table.loading=isLoading;table.error=error;setTable(table);setTypes(types);};return/*#__PURE__*/_jsx(ProductTypeContext.Provider,{value:{errorModel:errorModel,typeModel:typeModel,updateAction:updateAction,types:types,table:table,type:type,errorMsg:errorMsg,formValid:formValid,event:event,setErrorMsg:setErrorMsg,setType:setType,setFormValid:setFormValid,addProductType:addProductType,setUpdateAction:setUpdateAction},children:props.children});};","map":{"version":3,"sources":["/Users/User1/developer/onlineshop/src/pages/context/ProductTypeCtx.js"],"names":["React","useState","productTypeCon","ProductTypeContext","createContext","ProductTypeProvider","props","typeModel","id","name","errorModel","show","type","setType","types","setTypes","updateAction","setUpdateAction","errorMsg","setErrorMsg","loading","error","event","setEvent","table","setTable","formValid","setFormValid","useEffect","getProductType","get","then","collections","datas","docs","map","data","setTableLoading","console","log","length","catch","ex","addProductType","doc","set","alert","setEventLoading","isLoading","children"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { productTypeCon } from '../context/CollectionsName/names'\nexport const ProductTypeContext = React.createContext();\nexport const ProductTypeProvider = (props) => {\n    const typeModel = {\n        id: \"\",\n        name: \"\",\n    };\n    const errorModel =\n    {\n        id: { show: false },\n        name: { show: false }\n    }\n\n    const [type, setType] = useState(typeModel);\n    const [types, setTypes] = useState(null);\n\n    const [updateAction, setUpdateAction] = useState(false);\n    const [errorMsg, setErrorMsg] = useState(errorModel);\n    const [event, setEvent] = useState({\n        loading: true,\n        error: false\n    });\n\n    const [table, setTable] = useState({\n        loading: true,\n        error: false\n    });\n    const [formValid, setFormValid] = useState(false);\n\n    React.useEffect(() => {\n        getProductType();\n    }, []);\n\n    const getProductType = () => {\n        productTypeCon.get().then((collections) => {\n            const datas = collections.docs.map((type) => type.data());\n            setTableLoading(datas, false, false);\n            console.log(\"datas\" + datas.length);\n        }).catch((ex) => {\n            console.log(\"error\" + ex);\n            setTableLoading([], false, false);\n        });\n    }\n\n    const addProductType = () => {\n        setTableLoading(types, true, false);\n        productTypeCon.doc(type.id).set(type).then((collections) => {\n            getProductType();\n            setType({ id: \"\", name: \"\" });\n            setUpdateAction(false);\n            alert(updateAction ? \"Ажилттай заслаа\" : \"Ажилттай нэмлээ\");\n\n        }).catch((ex) => {\n            console.log(\"error\" + ex);\n            setTableLoading(types, false, false);\n            alert(updateAction ? \"Засхад алдаа гарлаа \" : \"Нэмхэд алдаа гарлаа \");\n        });\n\n    }\n\n    const setEventLoading = (type, isLoading, error) => {\n        event.loading = isLoading;\n        event.error = error;\n        setType(type);\n        setEvent(event);\n        setType({\n            id: \"\",\n            name: \"\"\n        });\n        setFormValid(false);\n    }\n\n    const setTableLoading = (types, isLoading, error) => {\n        table.loading = isLoading;\n        table.error = error;\n        setTable(table);\n        setTypes(types);\n    }\n\n\n\n    return <ProductTypeContext.Provider value={{ errorModel, typeModel, updateAction, types, table, type, errorMsg, formValid, event, setErrorMsg, setType, setFormValid, addProductType, setUpdateAction }}>{props.children}</ProductTypeContext.Provider>\n}"]},"metadata":{},"sourceType":"module"}