{"ast":null,"code":"import _defineProperty from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from'react';import TypeTable from'../dataTable/ProductTypeTable';import ProductTypeAdd from'../components/ProductTypeAdd';import ProductTypeControl from'../components/Control';import{ProductTypeContext}from'../../context/ProductTypeCtx';import{validation,validatorTypes}from'../../util/validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductTypeContent=function ProductTypeContent(){var ctx=React.useContext(ProductTypeContext);var handleInputChange=function handleInputChange(event){var target=event.target;var value=target.value;var name=target.name;var validationTypes={id:validatorTypes.EQUAL,name:validatorTypes.POSITIVENUMBER,size:validatorTypes.NONE};var validate=validation(value,validationTypes[name],name==\"id\"&&ctx.types);var formValid=false;var type=_objectSpread(_objectSpread({},ctx.type),{},_defineProperty({},name,value));if(!validate.show){var istemvavlid=true;Object.values(type).map(function(el,index){if(el.length===0&&Object.keys(ctx.type)[index]!==[name]){if(Object.keys(ctx.type)[index]!=='size'&&[name]!=='size')istemvavlid=false;return;}});if(istemvavlid){formValid=true;}}var errorMsg=_objectSpread(_objectSpread({},ctx.errorMsg),{},_defineProperty({},name,validate));ctx.setType(type);ctx.setErrorMsg(errorMsg);ctx.setFormValid(formValid);};var updateButtonAction=function updateButtonAction(type){ctx.setType(_objectSpread(_objectSpread({},ctx.typeModel),type));ctx.setUpdateAction(true);ctx.setErrorMsg(ctx.errorModel);};var cancelButtonAction=function cancelButtonAction(){ctx.setType(ctx.typeModel);ctx.setFormValid(false);ctx.setUpdateAction(false);ctx.setErrorMsg(ctx.errorModel);};return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 shadow-none p-3 mb-5 bg-white rounded\",children:[/*#__PURE__*/_jsx(ProductTypeAdd,{updateAction:ctx.updateAction,errorMsg:ctx.errorMsg,type:ctx.type,handleInputChange:handleInputChange}),/*#__PURE__*/_jsx(ProductTypeControl,{updateAction:ctx.updateAction,setUpdateAction:ctx.setUpdateAction,cancelButtonAction:cancelButtonAction,formValid:ctx.formValid,add:ctx.addProduct,children:\" \"})]}),ctx.table.loading?/*#__PURE__*/_jsx(\"p\",{children:\"loading \"}):/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(TypeTable,{setType:ctx.setType,updateButtonAction:updateButtonAction,types:ctx.types})})]})})})});};export default ProductTypeContent;","map":{"version":3,"sources":["/Users/User1/developer/onlineshop/src/pages/admin/content/ProductTypeContent.js"],"names":["React","useState","TypeTable","ProductTypeAdd","ProductTypeControl","ProductTypeContext","validation","validatorTypes","ProductTypeContent","ctx","useContext","handleInputChange","event","target","value","name","validationTypes","id","EQUAL","POSITIVENUMBER","size","NONE","validate","types","formValid","type","show","istemvavlid","Object","values","map","el","index","length","keys","errorMsg","setType","setErrorMsg","setFormValid","updateButtonAction","typeModel","setUpdateAction","errorModel","cancelButtonAction","updateAction","addProduct","table","loading"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport TypeTable from '../dataTable/ProductTypeTable'\nimport ProductTypeAdd from '../components/ProductTypeAdd'\nimport ProductTypeControl from '../components/Control'\nimport { ProductTypeContext } from '../../context/ProductTypeCtx'\nimport { validation, validatorTypes } from '../../util/validator'\nconst ProductTypeContent = () => {\n    const ctx = React.useContext(ProductTypeContext);\n    const handleInputChange = (event) => {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        const validationTypes = {\n            id: validatorTypes.EQUAL,\n            name: validatorTypes.POSITIVENUMBER,\n            size: validatorTypes.NONE\n        };\n        const validate = validation(\n            value,\n            validationTypes[name],\n            name == \"id\" && ctx.types\n        );\n        let formValid = false;\n        const type = {\n            ...ctx.type,\n            [name]: value,\n        };\n        if (!validate.show) {\n            let istemvavlid = true;\n            Object.values(type).map((el, index) => {\n                if (\n                    el.length === 0 &&\n                    Object.keys(ctx.type)[index] !== [name]\n                ) {\n\n                    if (Object.keys(ctx.type)[index] !== 'size' && [name] !== 'size')\n                        istemvavlid = false;\n                    return;\n                }\n            });\n            if (istemvavlid) {\n                formValid = true;\n            }\n        }\n        const errorMsg = {\n            ...ctx.errorMsg,\n            [name]: validate,\n        }\n\n\n        ctx.setType(type);\n        ctx.setErrorMsg(errorMsg);\n        ctx.setFormValid(formValid);\n    }\n    const updateButtonAction = (type) => {\n        ctx.setType({ ...ctx.typeModel, ...type });\n        ctx.setUpdateAction(true);\n        ctx.setErrorMsg(ctx.errorModel);\n\n    }\n\n    const cancelButtonAction = () => {\n        ctx.setType(ctx.typeModel);\n        ctx.setFormValid(false);\n        ctx.setUpdateAction(false);\n        ctx.setErrorMsg(ctx.errorModel);\n    }\n    return (\n\n        <div className=\"content-wrapper\">\n            <div className=\"content-header\">\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-4 shadow-none p-3 mb-5 bg-white rounded\" >\n                            <ProductTypeAdd updateAction={ctx.updateAction} errorMsg={ctx.errorMsg} type={ctx.type} handleInputChange={handleInputChange}></ProductTypeAdd>\n                            <ProductTypeControl updateAction={ctx.updateAction} setUpdateAction={ctx.setUpdateAction}\n                                cancelButtonAction={cancelButtonAction}\n                                formValid={ctx.formValid} add={ctx.addProduct}> </ProductTypeControl>\n                        </div>\n                        {ctx.table.loading ? <p>loading </p> :\n                            <div className=\"col-8\"><TypeTable setType={ctx.setType} updateButtonAction={updateButtonAction} types={ctx.types}></TypeTable></div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div >\n    )\n}\n\nexport default ProductTypeContent;"]},"metadata":{},"sourceType":"module"}