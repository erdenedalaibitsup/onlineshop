{"ast":null,"code":"import _defineProperty from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import TypeTable from'../dataTable/ProductSubTypeTable';import ProductSubTypeAdd from'../components/ProductSubTypeAdd';import ProductSubTypeControl from'../components/Control';import{ProductSubTypeContext}from'../../context/ProductSubTypeCtx';import{validation,validatorTypes}from'../../util/validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductSubTypeContent=function ProductSubTypeContent(){var ctx=React.useContext(ProductSubTypeContext);console.log(\"ctx\",ctx);var handleInputChange=function handleInputChange(event){var target=event.target;var value=target.value;var name=target.name;var validationTypes={id:validatorTypes.EQUAL,name:validatorTypes.POSITIVENUMBER};var validate=validation(value,validationTypes[name],name==\"id\"&&ctx.subTypes);var formValid=false;var subType=_objectSpread(_objectSpread({},ctx.subType),{},_defineProperty({},name,value));if(!validate.show){var istemvavlid=true;Object.values(subType).map(function(el,index){if(el.length===0&&Object.keys(ctx.subType)[index]!==[name]){istemvavlid=false;return;}});if(istemvavlid){formValid=true;}}var errorMsg=_objectSpread(_objectSpread({},ctx.errorMsg),{},_defineProperty({},name,validate));ctx.setSubType(subType);ctx.setErrorMsg(errorMsg);ctx.setFormValid(formValid);};var updateButtonAction=function updateButtonAction(subType){ctx.setSubType(_objectSpread(_objectSpread({},ctx.subTypeModel),subType));ctx.setUpdateAction(true);ctx.setErrorMsg(ctx.errorModel);};var cancelButtonAction=function cancelButtonAction(){ctx.setSubType(ctx.subTypeModel);ctx.setFormValid(false);ctx.setUpdateAction(false);ctx.setErrorMsg(ctx.errorModel);};return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 shadow-none p-3 mb-5 bg-white rounded\",children:[/*#__PURE__*/_jsx(ProductSubTypeAdd,{updateAction:ctx.updateAction,errorMsg:ctx.errorMsg,subType:ctx.subType,handleInputChange:handleInputChange}),/*#__PURE__*/_jsx(ProductSubTypeControl,{updateAction:ctx.updateAction,setUpdateAction:ctx.setUpdateAction,cancelButtonAction:cancelButtonAction,formValid:ctx.formValid,add:ctx.addProductSubType,children:\" \"})]}),ctx.table.loading?/*#__PURE__*/_jsx(\"p\",{children:\"loading \"}):/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(TypeTable,{setSubType:ctx.setSubType,updateButtonAction:updateButtonAction,subTypes:ctx.subTypes})})]})})})});};export default ProductSubTypeContent;","map":{"version":3,"sources":["/Users/User1/developer/onlineshop/src/pages/admin/content/ProductSubTypeContent.js"],"names":["React","TypeTable","ProductSubTypeAdd","ProductSubTypeControl","ProductSubTypeContext","validation","validatorTypes","ProductSubTypeContent","ctx","useContext","console","log","handleInputChange","event","target","value","name","validationTypes","id","EQUAL","POSITIVENUMBER","validate","subTypes","formValid","subType","show","istemvavlid","Object","values","map","el","index","length","keys","errorMsg","setSubType","setErrorMsg","setFormValid","updateButtonAction","subTypeModel","setUpdateAction","errorModel","cancelButtonAction","updateAction","addProductSubType","table","loading"],"mappings":"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","sourcesContent":["import React from 'react'\nimport TypeTable from '../dataTable/ProductSubTypeTable'\nimport ProductSubTypeAdd from '../components/ProductSubTypeAdd'\nimport ProductSubTypeControl from '../components/Control'\nimport { ProductSubTypeContext } from '../../context/ProductSubTypeCtx'\nimport { validation, validatorTypes } from '../../util/validator'\nconst ProductSubTypeContent = () => {\n    const ctx = React.useContext(ProductSubTypeContext);\n    console.log(\"ctx\", ctx);\n    const handleInputChange = (event) => {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        const validationTypes = {\n            id: validatorTypes.EQUAL,\n            name: validatorTypes.POSITIVENUMBER\n        };\n        const validate = validation(\n            value,\n            validationTypes[name],\n            name == \"id\" && ctx.subTypes\n        );\n        let formValid = false;\n        const subType = {\n            ...ctx.subType,\n            [name]: value,\n        };\n        if (!validate.show) {\n            let istemvavlid = true;\n            Object.values(subType).map((el, index) => {\n                if (\n                    el.length === 0 &&\n                    Object.keys(ctx.subType)[index] !== [name]\n                ) {\n                    istemvavlid = false;\n                    return;\n                }\n            });\n            if (istemvavlid) {\n                formValid = true;\n            }\n        }\n        const errorMsg = {\n            ...ctx.errorMsg,\n            [name]: validate,\n        }\n\n\n        ctx.setSubType(subType);\n        ctx.setErrorMsg(errorMsg);\n        ctx.setFormValid(formValid);\n    }\n    const updateButtonAction = (subType) => {\n        ctx.setSubType({ ...ctx.subTypeModel, ...subType });\n        ctx.setUpdateAction(true);\n        ctx.setErrorMsg(ctx.errorModel);\n\n    }\n\n    const cancelButtonAction = () => {\n        ctx.setSubType(ctx.subTypeModel);\n        ctx.setFormValid(false);\n        ctx.setUpdateAction(false);\n        ctx.setErrorMsg(ctx.errorModel);\n    }\n    return (\n\n        <div className=\"content-wrapper\">\n            <div className=\"content-header\">\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-4 shadow-none p-3 mb-5 bg-white rounded\" >\n                            <ProductSubTypeAdd updateAction={ctx.updateAction} errorMsg={ctx.errorMsg} subType={ctx.subType} handleInputChange={handleInputChange}></ProductSubTypeAdd>\n                            <ProductSubTypeControl updateAction={ctx.updateAction} setUpdateAction={ctx.setUpdateAction}\n                                cancelButtonAction={cancelButtonAction}\n                                formValid={ctx.formValid} add={ctx.addProductSubType}> </ProductSubTypeControl>\n                        </div>\n                        {ctx.table.loading ? <p>loading </p> :\n                            <div className=\"col-8\"><TypeTable setSubType={ctx.setSubType} updateButtonAction={updateButtonAction} subTypes={ctx.subTypes}></TypeTable></div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div >\n    )\n}\n\nexport default ProductSubTypeContent;"]},"metadata":{},"sourceType":"module"}