{"ast":null,"code":"import _slicedToArray from\"/Users/User1/developer/onlineshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';// import firebase from '../../firebase'\n// const productSubTypeCon = firebase.firestore().collection('productSubType');\nimport{productSubTypeCon}from'../context/CollectionsName/names';import{jsx as _jsx}from\"react/jsx-runtime\";export var ProductSubTypeContext=/*#__PURE__*/React.createContext();export var ProductSubTypeProvider=function ProductSubTypeProvider(props){var subTypeModel={id:\"\",name:\"\",subTypeId:\"1\"};var errorModel={id:{show:false},name:{show:false},subTypeId:{show:false}};var _useState=useState(subTypeModel),_useState2=_slicedToArray(_useState,2),subType=_useState2[0],setSubType=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),subTypes=_useState4[0],setSubTypes=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),updateAction=_useState6[0],setUpdateAction=_useState6[1];var _useState7=useState(errorModel),_useState8=_slicedToArray(_useState7,2),errorMsg=_useState8[0],setErrorMsg=_useState8[1];var _useState9=useState({loading:true,error:false}),_useState10=_slicedToArray(_useState9,2),event=_useState10[0],setEvent=_useState10[1];var _useState11=useState({loading:true,error:false}),_useState12=_slicedToArray(_useState11,2),table=_useState12[0],setTable=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),formValid=_useState14[0],setFormValid=_useState14[1];React.useEffect(function(){getProductSubType();},[]);var getProductSubType=function getProductSubType(){productSubTypeCon.get().then(function(collections){var datas=collections.docs.map(function(subType){return subType.data();});setTableLoading(datas,false,false);console.log(\"datas\"+datas.length);}).catch(function(ex){console.log(\"error\"+ex);setTableLoading([],false,false);});};var addProductSubType=function addProductSubType(){setTableLoading(subTypes,true,false);productSubTypeCon.doc(subType.id).set(subType).then(function(collections){getProductSubType();setSubType({id:\"\",name:\"\"});setUpdateAction(false);alert(updateAction?\"Ажилттай заслаа\":\"Ажилттай нэмлээ\");}).catch(function(ex){console.log(\"error\"+ex);setTableLoading(subTypes,false,false);alert(updateAction?\"Засхад алдаа гарлаа \":\"Нэмхэд алдаа гарлаа \");});};var setEventLoading=function setEventLoading(subType,isLoading,error){event.loading=isLoading;event.error=error;setSubType(subType);setEvent(event);setSubType({id:\"\",name:\"\"});setFormValid(false);};var setTableLoading=function setTableLoading(subTypes,isLoading,error){table.loading=isLoading;table.error=error;setTable(table);setSubTypes(subTypes);};return/*#__PURE__*/_jsx(ProductSubTypeContext.Provider,{value:{errorModel:errorModel,subTypeModel:subTypeModel,updateAction:updateAction,subTypes:subTypes,table:table,subType:subType,errorMsg:errorMsg,formValid:formValid,event:event,setErrorMsg:setErrorMsg,setSubType:setSubType,setFormValid:setFormValid,addProductSubType:addProductSubType,setUpdateAction:setUpdateAction},children:props.children});};","map":{"version":3,"sources":["/Users/User1/developer/onlineshop/src/pages/context/ProductSubTypeCtx.js"],"names":["React","useState","productSubTypeCon","ProductSubTypeContext","createContext","ProductSubTypeProvider","props","subTypeModel","id","name","subTypeId","errorModel","show","subType","setSubType","subTypes","setSubTypes","updateAction","setUpdateAction","errorMsg","setErrorMsg","loading","error","event","setEvent","table","setTable","formValid","setFormValid","useEffect","getProductSubType","get","then","collections","datas","docs","map","data","setTableLoading","console","log","length","catch","ex","addProductSubType","doc","set","alert","setEventLoading","isLoading","children"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n// import firebase from '../../firebase'\n\n// const productSubTypeCon = firebase.firestore().collection('productSubType');\nimport { productSubTypeCon } from '../context/CollectionsName/names'\nexport const ProductSubTypeContext = React.createContext();\nexport const ProductSubTypeProvider = (props) => {\n    const subTypeModel = {\n        id: \"\",\n        name: \"\",\n        subTypeId: \"1\",\n    };\n    const errorModel =\n    {\n        id: { show: false },\n        name: { show: false },\n        subTypeId: { show: false },\n    }\n\n    const [subType, setSubType] = useState(subTypeModel);\n    const [subTypes, setSubTypes] = useState(null);\n\n    const [updateAction, setUpdateAction] = useState(false);\n    const [errorMsg, setErrorMsg] = useState(errorModel);\n    const [event, setEvent] = useState({\n        loading: true,\n        error: false\n    });\n\n    const [table, setTable] = useState({\n        loading: true,\n        error: false\n    });\n    const [formValid, setFormValid] = useState(false);\n\n    React.useEffect(() => {\n        getProductSubType();\n    }, []);\n\n    const getProductSubType = () => {\n        productSubTypeCon.get().then((collections) => {\n            const datas = collections.docs.map((subType) => subType.data());\n            setTableLoading(datas, false, false);\n            console.log(\"datas\" + datas.length);\n        }).catch((ex) => {\n            console.log(\"error\" + ex);\n            setTableLoading([], false, false);\n        });\n    }\n\n    const addProductSubType = () => {\n        setTableLoading(subTypes, true, false);\n        productSubTypeCon.doc(subType.id).set(subType).then((collections) => {\n            getProductSubType();\n            setSubType({ id: \"\", name: \"\" });\n            setUpdateAction(false);\n            alert(updateAction ? \"Ажилттай заслаа\" : \"Ажилттай нэмлээ\");\n\n        }).catch((ex) => {\n            console.log(\"error\" + ex);\n            setTableLoading(subTypes, false, false);\n            alert(updateAction ? \"Засхад алдаа гарлаа \" : \"Нэмхэд алдаа гарлаа \");\n        });\n\n    }\n\n    const setEventLoading = (subType, isLoading, error) => {\n        event.loading = isLoading;\n        event.error = error;\n        setSubType(subType);\n        setEvent(event);\n        setSubType({\n            id: \"\",\n            name: \"\"\n        });\n        setFormValid(false);\n    }\n\n    const setTableLoading = (subTypes, isLoading, error) => {\n        table.loading = isLoading;\n        table.error = error;\n        setTable(table);\n        setSubTypes(subTypes);\n    }\n\n\n\n    return <ProductSubTypeContext.Provider value={{ errorModel, subTypeModel, updateAction, subTypes, table, subType, errorMsg, formValid, event, setErrorMsg, setSubType, setFormValid, addProductSubType, setUpdateAction }}>{props.children}</ProductSubTypeContext.Provider>\n}"]},"metadata":{},"sourceType":"module"}